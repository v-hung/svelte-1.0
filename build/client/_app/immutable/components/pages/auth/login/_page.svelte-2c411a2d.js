import{S as ee,i as se,s as le,k as o,a as _,q as T,l as c,m as i,c as b,r as D,h as r,L as ft,n as e,b as F,D as s,B as Pt,I as ae,M as Qt,N as re,O as $t,_ as oe,P as ce,u as ne,J as st,K as lt}from"../../../../chunks/index-4e57025e.js";import{a as ie,e as te}from"../../../../chunks/forms-b0cb80c2.js";import{l as ue}from"../../../../chunks/svelte-logo-24ddae96.js";const de=async(h,t)=>{fetch("/api/v1/auth/oauth",{method:"post",body:JSON.stringify({provider:h}),redirect:"follow"}).then(l=>l.json()).then(l=>{window.location.replace(l.redirect_uri)})};function he(h){var St,Bt;let t,l,a,n,f,d,u,k,w,g,I,m,V,E,L,v,x,A,S,q,B,G,pt,at,gt,vt,mt,W,z,H,R,Vt,_t,j,bt,wt,J,U,Y,K,Nt,Et,Q,xt,yt,X,M,Z,$,Tt,kt,tt,It,rt,ot,Lt,Dt;function At(y,p){return y[3]?ge:pe}let ct=At(h),O=ct(h),P=((St=h[1])==null?void 0:St.error)&&Xt(h),N=((Bt=h[1])==null?void 0:Bt.success)&&Zt();return{c(){t=o("form"),l=o("div"),a=o("label"),n=T("Email"),f=_(),d=o("div"),u=o("input"),k=_(),w=o("div"),g=o("label"),I=T("Password"),m=_(),V=o("div"),E=o("input"),L=_(),v=o("div"),x=o("span"),O.c(),A=_(),P&&P.c(),S=_(),N&&N.c(),q=_(),B=o("div"),G=o("button"),pt=T("Login"),gt=_(),vt=o("hr"),mt=_(),W=o("div"),z=o("button"),H=o("span"),R=o("img"),_t=_(),j=o("span"),bt=T("Login with Google"),wt=_(),J=o("div"),U=o("button"),Y=o("span"),K=o("img"),Et=_(),Q=o("span"),xt=T("Login with Facebook"),yt=_(),X=o("div"),M=o("button"),Z=o("span"),$=o("img"),kt=_(),tt=o("span"),It=T("Login with Github"),this.h()},l(y){t=c(y,"FORM",{action:!0,class:!0,method:!0});var p=i(t);l=c(p,"DIV",{class:!0});var C=i(l);a=c(C,"LABEL",{for:!0,class:!0});var et=i(a);n=D(et,"Email"),et.forEach(r),f=b(C),d=c(C,"DIV",{class:!0});var Mt=i(d);u=c(Mt,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0}),Mt.forEach(r),C.forEach(r),k=b(p),w=c(p,"DIV",{class:!0});var nt=i(w);g=c(nt,"LABEL",{for:!0,class:!0});var Ot=i(g);I=D(Ot,"Password"),Ot.forEach(r),m=b(nt),V=c(nt,"DIV",{class:!0});var it=i(V);E=c(it,"INPUT",{id:!0,name:!0,type:!0,class:!0}),L=b(it),v=c(it,"DIV",{class:!0});var Gt=i(v);x=c(Gt,"SPAN",{class:!0});var zt=i(x);O.l(zt),zt.forEach(r),Gt.forEach(r),it.forEach(r),nt.forEach(r),A=b(p),P&&P.l(p),S=b(p),N&&N.l(p),q=b(p),B=c(p,"DIV",{class:!0});var Ut=i(B);G=c(Ut,"BUTTON",{class:!0,type:!0});var qt=i(G);pt=D(qt,"Login"),qt.forEach(r),Ut.forEach(r),gt=b(p),vt=c(p,"HR",{}),mt=b(p),W=c(p,"DIV",{class:!0});var Ct=i(W);z=c(Ct,"BUTTON",{class:!0});var ut=i(z);H=c(ut,"SPAN",{class:!0});var Ft=i(H);R=c(Ft,"IMG",{src:!0,alt:!0}),Ft.forEach(r),_t=b(ut),j=c(ut,"SPAN",{class:!0});var Wt=i(j);bt=D(Wt,"Login with Google"),Wt.forEach(r),ut.forEach(r),Ct.forEach(r),wt=b(p),J=c(p,"DIV",{class:!0});var Ht=i(J);U=c(Ht,"BUTTON",{class:!0});var dt=i(U);Y=c(dt,"SPAN",{class:!0});var Rt=i(Y);K=c(Rt,"IMG",{src:!0,alt:!0}),Rt.forEach(r),Et=b(dt),Q=c(dt,"SPAN",{class:!0});var jt=i(Q);xt=D(jt,"Login with Facebook"),jt.forEach(r),dt.forEach(r),Ht.forEach(r),yt=b(p),X=c(p,"DIV",{class:!0});var Jt=i(X);M=c(Jt,"BUTTON",{class:!0});var ht=i(M);Z=c(ht,"SPAN",{class:!0});var Yt=i(Z);$=c(Yt,"IMG",{src:!0,alt:!0}),Yt.forEach(r),kt=b(ht),tt=c(ht,"SPAN",{class:!0});var Kt=i(tt);It=D(Kt,"Login with Github"),Kt.forEach(r),ht.forEach(r),Jt.forEach(r),p.forEach(r),this.h()},h(){e(a,"for","email"),e(a,"class","label required svelte-1gpx623"),e(u,"id","email"),e(u,"name","email"),e(u,"type","text"),e(u,"class","flex-grow min-w-0 px-4 py-2 svelte-1gpx623"),e(u,"placeholder","e.g. viet@doe.com"),e(d,"class","input-login mt-1 svelte-1gpx623"),e(l,"class","mb-4"),e(g,"for","password"),e(g,"class","label required svelte-1gpx623"),e(E,"id","password"),e(E,"name","password"),e(E,"type","password"),e(E,"class","flex-grow min-w-0 px-4 py-2 svelte-1gpx623"),e(x,"class","icon w-8 h-8 cursor-pointer p-1.5 text-gray-700 hover:text-orange-600"),e(v,"class","flex-none px-2"),e(V,"class","input-login mt-1 svelte-1gpx623"),e(w,"class","mb-4"),e(G,"class",at="btn "+(h[2]?"btn-loading":"")+" svelte-1gpx623"),e(G,"type","submit"),e(B,"class","mb-4 pt-2"),ft(R.src,Vt="/images/google.png")||e(R,"src",Vt),e(R,"alt",""),e(H,"class","btn-icon svelte-1gpx623"),e(j,"class","btn-text svelte-1gpx623"),e(z,"class","btn-2 bg-blue-700 hover:bg-blue-600 text-white svelte-1gpx623"),e(W,"class","mb-4 pt-4"),ft(K.src,Nt="/images/facebook.png")||e(K,"src",Nt),e(K,"alt",""),e(Y,"class","btn-icon svelte-1gpx623"),e(Q,"class","btn-text svelte-1gpx623"),e(U,"class","btn-2 bg-sky-700 hover:bg-sky-600 text-white svelte-1gpx623"),e(J,"class","mb-4"),ft($.src,Tt="/images/github.png")||e($,"src",Tt),e($,"alt",""),e(Z,"class","btn-icon svelte-1gpx623"),e(tt,"class","btn-text svelte-1gpx623"),e(M,"class","btn-2 bg-stone-800 hover:bg-stone-700 text-white svelte-1gpx623"),e(X,"class","mb-4"),e(t,"action","?/login"),e(t,"class",rt="mt-8 "+(h[2]?"form-loading":"")+" svelte-1gpx623"),e(t,"method","post")},m(y,p){F(y,t,p),s(t,l),s(l,a),s(a,n),s(l,f),s(l,d),s(d,u),s(t,k),s(t,w),s(w,g),s(g,I),s(w,m),s(w,V),s(V,E),h[6](E),s(V,L),s(V,v),s(v,x),O.m(x,null),s(t,A),P&&P.m(t,null),s(t,S),N&&N.m(t,null),s(t,q),s(t,B),s(B,G),s(G,pt),s(t,gt),s(t,vt),s(t,mt),s(t,W),s(W,z),s(z,H),s(H,R),s(z,_t),s(z,j),s(j,bt),s(t,wt),s(t,J),s(J,U),s(U,Y),s(Y,K),s(U,Et),s(U,Q),s(Q,xt),s(t,yt),s(t,X),s(X,M),s(M,Z),s(Z,$),s(M,kt),s(M,tt),s(tt,It),Lt||(Dt=[Qt(x,"click",h[5]),Qt(M,"click",re(h[7])),$t(ot=te.call(null,t,h[8]))],Lt=!0)},p(y,p){var C,et;ct!==(ct=At(y))&&(O.d(1),O=ct(y),O&&(O.c(),O.m(x,null))),(C=y[1])!=null&&C.error?P?P.p(y,p):(P=Xt(y),P.c(),P.m(t,S)):P&&(P.d(1),P=null),(et=y[1])!=null&&et.success?N||(N=Zt(),N.c(),N.m(t,q)):N&&(N.d(1),N=null),p&4&&at!==(at="btn "+(y[2]?"btn-loading":"")+" svelte-1gpx623")&&e(G,"class",at),p&4&&rt!==(rt="mt-8 "+(y[2]?"form-loading":"")+" svelte-1gpx623")&&e(t,"class",rt),ot&&oe(ot.update)&&p&4&&ot.update.call(null,y[8])},d(y){y&&r(t),h[6](null),O.d(),P&&P.d(),N&&N.d(),Lt=!1,ce(Dt)}}}function fe(h){let t,l,a,n,f,d,u,k,w;return{c(){t=o("form"),l=o("p"),a=T("You are logged in"),n=_(),f=o("div"),d=o("button"),u=T("Logout"),this.h()},l(g){t=c(g,"FORM",{action:!0,class:!0,method:!0});var I=i(t);l=c(I,"P",{class:!0});var m=i(l);a=D(m,"You are logged in"),m.forEach(r),n=b(I),f=c(I,"DIV",{class:!0});var V=i(f);d=c(V,"BUTTON",{class:!0,type:!0});var E=i(d);u=D(E,"Logout"),E.forEach(r),V.forEach(r),I.forEach(r),this.h()},h(){e(l,"class","mb-4"),e(d,"class","btn svelte-1gpx623"),e(d,"type","submit"),e(f,"class","mb-4 pt-2"),e(t,"action","?/logout"),e(t,"class","mt-8"),e(t,"method","post")},m(g,I){F(g,t,I),s(t,l),s(l,a),s(t,n),s(t,f),s(f,d),s(d,u),k||(w=$t(te.call(null,t)),k=!0)},p:Pt,d(g){g&&r(t),k=!1,w()}}}function pe(h){let t,l;return{c(){t=st("svg"),l=st("path"),this.h()},l(a){t=lt(a,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=i(t);l=lt(n,"path",{d:!0}),i(l).forEach(r),n.forEach(r),this.h()},h(){e(l,"d","M12 4.998c-1.836 0-3.356.389-4.617.971L3.707 2.293 2.293 3.707l3.315 3.315c-2.613 1.952-3.543 4.618-3.557 4.66l-.105.316.105.316C2.073 12.382 4.367 19 12 19c1.835 0 3.354-.389 4.615-.971l3.678 3.678 1.414-1.414-3.317-3.317c2.614-1.952 3.545-4.618 3.559-4.66l.105-.316-.105-.316c-.022-.068-2.316-6.686-9.949-6.686zM12.043 7H12a5 5 0 0 1 5 5 4.894 4.894 0 0 1-.852 2.734l-.721-.721A3.919 3.919 0 0 0 16 11.999c0-.474-.099-.925-.255-1.349A.985.985 0 0 1 15 11a1 1 0 0 1-1-1c0-.439.288-.802.682-.936A3.965 3.965 0 0 0 12 7.999c-.735 0-1.419.218-2.015.572l-.72-.72C10.053 7.326 10.982 7 12 7h-.043L12 6.998l.043.002zm-7.969 4.999c.103-.235.274-.586.521-.989l5.867 5.867c-4.213-.647-5.939-3.842-6.388-4.878zm9.247 4.908-7.48-7.48a8.146 8.146 0 0 1 1.188-.984l8.055 8.055a8.835 8.835 0 0 1-1.763.409z"),e(t,"xmlns","http://www.w3.org/2000/svg"),e(t,"width","24"),e(t,"height","24"),e(t,"viewBox","0 0 24 24")},m(a,n){F(a,t,n),s(t,l)},d(a){a&&r(t)}}}function ge(h){let t,l,a;return{c(){t=st("svg"),l=st("path"),a=st("path"),this.h()},l(n){t=lt(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var f=i(t);l=lt(f,"path",{d:!0}),i(l).forEach(r),a=lt(f,"path",{d:!0}),i(a).forEach(r),f.forEach(r),this.h()},h(){e(l,"d","M12 5c-7.633 0-9.927 6.617-9.948 6.684L1.946 12l.105.316C2.073 12.383 4.367 19 12 19s9.927-6.617 9.948-6.684l.106-.316-.105-.316C21.927 11.617 19.633 5 12 5zm0 11c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"),e(a,"d","M12 10c-1.084 0-2 .916-2 2s.916 2 2 2 2-.916 2-2-.916-2-2-2z"),e(t,"xmlns","http://www.w3.org/2000/svg"),e(t,"width","24"),e(t,"height","24"),e(t,"viewBox","0 0 24 24")},m(n,f){F(n,t,f),s(t,l),s(t,a)},d(n){n&&r(t)}}}function Xt(h){var f;let t,l,a=((f=h[1])==null?void 0:f.error)+"",n;return{c(){t=o("p"),l=T("* "),n=T(a),this.h()},l(d){t=c(d,"P",{class:!0});var u=i(t);l=D(u,"* "),n=D(u,a),u.forEach(r),this.h()},h(){e(t,"class","mb-4 text-red-500 text-sm")},m(d,u){F(d,t,u),s(t,l),s(t,n)},p(d,u){var k;u&2&&a!==(a=((k=d[1])==null?void 0:k.error)+"")&&ne(n,a)},d(d){d&&r(t)}}}function Zt(h){let t,l;return{c(){t=o("p"),l=T("Successfully logged in! Welcome back"),this.h()},l(a){t=c(a,"P",{class:!0});var n=i(t);l=D(n,"Successfully logged in! Welcome back"),n.forEach(r),this.h()},h(){e(t,"class","mb-4 text-green-500 text-sm")},m(a,n){F(a,t,n),s(t,l)},d(a){a&&r(t)}}}function ve(h){let t,l,a,n,f,d,u,k,w,g,I,m;function V(v,x){var A;return(A=v[0])!=null&&A.user?fe:he}let E=V(h),L=E(h);return{c(){t=o("div"),l=o("div"),a=o("div"),n=o("img"),d=_(),u=o("h1"),k=T("Welcome to ViệtIT!"),w=_(),g=o("p"),I=T("Log in to your ViệtIT account"),m=_(),L.c(),this.h()},l(v){t=c(v,"DIV",{class:!0});var x=i(t);l=c(x,"DIV",{class:!0});var A=i(l);a=c(A,"DIV",{class:!0});var S=i(a);n=c(S,"IMG",{src:!0,alt:!0,class:!0}),d=b(S),u=c(S,"H1",{class:!0});var q=i(u);k=D(q,"Welcome to ViệtIT!"),q.forEach(r),w=b(S),g=c(S,"P",{class:!0});var B=i(g);I=D(B,"Log in to your ViệtIT account"),B.forEach(r),S.forEach(r),m=b(A),L.l(A),A.forEach(r),x.forEach(r),this.h()},h(){ft(n.src,f=ue)||e(n,"src",f),e(n,"alt","logo"),e(n,"class","w-20"),e(u,"class","text-4xl font-semibold mt-4 mb-2"),e(g,"class","text-gray-600"),e(a,"class","flex flex-col justify-center items-center"),e(l,"class","w-full max-w-lg mx-auto rounded-lg shadow px-12 py-8 bg-white"),e(t,"class","w-full min-h-screen bg-gray-100 py-16")},m(v,x){F(v,t,x),s(t,l),s(l,a),s(a,n),s(a,d),s(a,u),s(u,k),s(a,w),s(a,g),s(g,I),s(l,m),L.m(l,null)},p(v,[x]){E===(E=V(v))&&L?L.p(v,x):(L.d(1),L=E(v),L&&(L.c(),L.m(l,null)))},i:Pt,o:Pt,d(v){v&&r(t),L.d()}}}function me(h,t,l){let{data:a}=t,{form:n}=t,f=!1,d=!1,u=null;const k=()=>{l(3,d=!d),u&&l(4,u.type=d?"text":"password",u)};function w(m){ae[m?"unshift":"push"](()=>{u=m,l(4,u)})}const g=()=>de("github"),I=({form:m,data:V,action:E,cancel:L})=>(l(2,f=!0),async({result:v,update:x})=>{await ie(v),l(2,f=!1)});return h.$$set=m=>{"data"in m&&l(0,a=m.data),"form"in m&&l(1,n=m.form)},[a,n,f,d,u,k,w,g,I]}class Ee extends ee{constructor(t){super(),se(this,t,me,ve,le,{data:0,form:1})}}export{Ee as default};
